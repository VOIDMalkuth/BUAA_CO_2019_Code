#### IFU

端口定义表 

| 信号名             | 方向 | 描述                                                   |
| ------------------ | ---- | ------------------------------------------------------ |
| clk                | I    | 时钟信号                                               |
| reset              | I    | 重置信号                                               |
| Jump               | I    | 选择PC的值来源: PC[31:28] \|\| JAddress[25:0] \|\| 0^2 |
| Branch             | I    | 选择PC的值来源: PC + 4 + (branchOffset \|\| 0^2)       |
| branchOffset[15:0] | I    | 分支偏移量, b系列指令                                  |
| JAddress[25:0]     | I    | 跳转目标地址，针对J指令                                |
| Instr[31:0]        | O    | 当前PC所指指令                                         |
| PC+4[31:0]         | O    | 当前PC+4的值                                           |

功能定义表

| 序号 | 功能名称       | 功能描述                                                     |
| ---- | -------------- | ------------------------------------------------------------ |
| 1    | 重置           | reset置1时，PC寄存器复位                                     |
| 2    | 顺序执行       | Jump == 0且Branch == 0时，Instr为PC所指处指令，PC <= PC + 4  |
| 3    | 分支（branch） | Branch == 1时，Instr为PC所指处指令，PC <= PC + 4 + branchOffset |
| 4    | 跳转（J）      | Jump == 1时，Instr为PC所指处指令，PC <= (PC + 4)[31:28] \|\| JAddress \|\| 0^2 |

 

####  GRF 

端口定义表

| 信号名         | 方向 | 描述                  |
| -------------- | ---- | --------------------- |
| clk            | I    | 时钟信号              |
| reset          | I    | 重置信号              |
| RegWEnable     | I    | 写使能信号            |
| RAddr1[4:0]    | I    | 读功能所读寄存器地址1 |
| RAddr2[4:0]    | I    | 读功能所读寄存器地址2 |
| RegWAddr[4:0]  | I    | 写功能所写寄存器地址  |
| RegWData[31:0] | I    | 写功能写入数据        |
| RD1[31:0]      | O    | 读寄存器数据1         |
| RD2[31:0]      | O    | 读寄存器数据2         |

功能定义表

| 序号 | 功能名称       | 描述                                                         |
| ---- | -------------- | ------------------------------------------------------------ |
| 1    | 重置           | reset == 1时重置GRF，所有寄存器归零                          |
| 2    | 读取寄存器数据 | clk接时钟信号时，RD1/2输出寄存器编号为RAddr1/2的寄存器的值   |
| 3    | 写入寄存器     | WEnable == 1时，将WD处数据在下一个时钟上升沿存入编号为WAddr的寄存器 |



#### ALU

端口定义表

| 信号名            | 方向 | 描述                                       |
| ----------------- | ---- | ------------------------------------------ |
| Operand1[31:0]    | I    | 操作数1                                    |
| Operand2[31:0]    | I    | 操作数2（具体由ALUOp2Datapath元件确定）    |
| ALUOperation[3:0] | I    | 具体操作，0：加， 1：减， 2: 或， 其他待定 |
| Result[31:0]      | O    | 运算结果                                   |
| isZero            | O    | 结果是否为0                                |

功能定义表

| 序号 | 功能名称    | 描述                                                         |
| ---- | ----------- | ------------------------------------------------------------ |
| 1    | 运算        | 根据ALUOperator指定的操作进行运算，结果输出至Result。具体操作：0：加， 1：减， 3: 或， 其他待定 |
| 2    | 结果是否为0 | 运算结果为0时，isZero置1                                     |



#### DM

1. Logisim中RAM
2. 自建，4个8bitRAM组合/一个32bitRAM改

端口定义表

| 信号名         | 方向 | 描述                                          |
| -------------- | ---- | --------------------------------------------- |
| clk            | I    | 时钟信号                                      |
| reset          | I    | 重置数据，清零RAM                             |
| Address[31:0]  | I    | 操作地址                                      |
| MemWData[31:0] | I    | 待写入数据                                    |
| MemWEnable     | I    | 是否写入数据                                  |
| MemMode[1:0]   | I    | 操作位宽，0 ---  word, 1 --- half, 3 --- byte |
| MemRdata[31:0] | O    | 操作地址处的数据                              |

功能定义表

| 序号 | 功能名称 | 描述                         |
| ---- | -------- | ---------------------------- |
| 1    | 读取     | 以指定位宽读取指定位置数据   |
| 2    | 写入     | 以指定位宽在指定位置写入数据 |

注：非整字时，使用符号延拓



#### EXT

端口定义表

| 信号名          | 方向 | 描述                                               |
| --------------- | ---- | -------------------------------------------------- |
| EXTInput[15:0]  | I    | 输入数据                                           |
| EXTMode         | I    | 操作模式： 0 --- 无符号延拓32， 1 --- 有符号延拓32 |
| EXTOutput[31:0] | I    | 输出数据                                           |

功能定义表

| 序号 | 功能名称       | 描述                                       |
| ---- | -------------- | ------------------------------------------ |
| 1    | 无符号延拓32位 | EXTMode == 0时，将EXTInput做32位无符号延拓 |
| 2    | 有符号延拓32位 | EXTMode == 1时，将EXTInput做32位有符号延拓 |

#### Controller

见控制器文档